<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script>
        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
    <title>ayanxars</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        * {
            font-family: Arial, sans-serif;
            font-weight: normal;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        body {
            background-color: #000000;
            color: #ffffff;
            opacity: 0;
            text-align: left;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 1rem;
            margin: 0;
            gap: 2rem;
        }

        h1 {
            margin: 0;
        }

        a {
            color: rgb(62, 255, 239);
            text-decoration: none;
        }

        a:hover,
        a:focus {
            color: rgb(62, 255, 239);
            text-decoration: underline;
        }

        #jsonLoader {
            text-transform: uppercase;
            line-height: normal;
            display: flex;
            flex-direction: column;
            gap: 2.5rem;
            align-items: flex-start;
        }
    </style>
</head>

<body>
    <h1>ayanxars</h1><br>
    <a rel="noopener noreferrer" href="https://x.com/ayanxars" style="display: block;">X (TWITTER)</a><br>
    <div id="jsonLoader"></div>
    <script>
        async function loadLinks() {
            const url = 'https://raw.githubusercontent.com/AyanXars/ayanxars/refs/heads/main/url.json?t=' + new Date().getTime();
            try {
                const response = await fetch(url, { cache: "no-store" });
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const links = await response.json();

                if (document.readyState === 'loading') {
                    await new Promise(resolve => document.addEventListener('DOMContentLoaded', resolve));
                }

                const container = document.getElementById('jsonLoader');

                links.forEach(link => {
                    const a = document.createElement('a');
                    a.href = link.url;
                    a.textContent = link.name;
                    container.appendChild(a);
                });

                await new Promise(requestAnimationFrame);

                document.body.style.opacity = '1';

            } catch (error) {
                console.error('Error loading links:', error);
                document.body.style.opacity = '1';
            }
        }
        loadLinks();
    </script>
    <script>
        $(window).on('load', function () {
            $.getJSON('https://cdn.jsdelivr.net/gh/AyanXars/ayanxars@main/domains.json', function (domains) {
                $.each(domains, function (i, domain) {
                    var directUrl = "https://" + domain;
                    var proxyUrl = "https://api.allorigins.win/raw?url=" + encodeURIComponent(directUrl);

                    // Direct hit
                    fetch(directUrl, { mode: 'no-cors' })
                        .then(() => console.log("Direct hit sent to " + domain))
                        .catch(e => console.error("Direct hit failed " + domain));

                    // Proxy request for output
                    $.ajax({
                        url: proxyUrl,
                        type: 'GET',
                        success: function (response) {
                            console.log("Output from " + domain + ":", response);
                        },
                        error: function (err) {
                            console.error("Error connecting to " + domain, err);
                        }
                    });
                });
            });
        });
    </script>
</body>

</html>
